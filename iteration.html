<html>
    <head>
        <script src="math.min.js" type="text/javascript"></script>
        <script src=function.js> </script>
    <script type="text/javascript">
        /*function f(x)
        {
            //var a=prompt("enter");
            var z= document.getElementById("F1").value;
            //var x=a;
            with(Math)
            {
                var ans=eval(z);
            }
            return ans;
        }*/
        function g(x)
        {
            //var a=prompt("enter");
            var z= document.getElementById("F2").value;
            z=z.toString();
            //var x=a;
            /*with(Math)
            {
                var ans=eval(z);
            }*/
            const z1=math.parse(z);
            const ans=z1.evaluate({'x':x});
            alert(ans);
            return ans;
        }
        
        function g1(x)
        {
            var z=document.getElementById("F2").value;
            var z1=math.derivative(z,'x').toString();  //returns object but in eval we pass string
            //alert("derivative="+z1);
            const z2=math.parse(z1);
            const ans=z2.evaluate({'x':x});
            //alert(ans);
            return ans;
        }
        function fun()
        {
            var ans=0;
            var i=0;
            var temp=document.getElementById("p1");
            temp.innerHtml="";
            var x1=parseFloat(prompt("enter value of x1"));
            var x2=parseFloat(prompt("enter value of x2"));
            var x0=(x1+x2)/2;
            //alert(f(x1)+" value of f(x1)");
            //alert(f(x2)+" value of f(x2)");
            if(f(x1)*f(x2)<0)
            {
                alert("roots lie between x1 & x2");
                if(g1(x1)<1 && g1(x2)<1)
                {
                //var prev=x1;
                while(1)
                {
                    i=i+1;
                    var x=g(x0);
                     //alert(x3+" value");
                    temp.innerHTML=temp.innerHTML+"It"+i+"= "+x+"<br>";
                    if(f(x)==0)
                    {
                    alert(x+"is the ans");
                    ans=x;
                    break;
                    }
                    else
                    {
                        /*if(f(x1)*f(x3)<0)
                        {
                            x2=x3;
                        }
                        else 
                        {
                            x1=x3;
                        }*/
                        if(Math.abs(x-x0)<0.001)
                        {
                            alert(x+" is ans");
                            ans=x;
                            break;
                        }
                        else
                        {
                            x0=x;
                        }
                    }
                }
                
                //var temp=document.getElementById("p1");
                temp.innerHTML=temp.innerHTML+"<br>ans is "+ans;
                }
                else{
                    alert("wrong input of g(x)");
                }
            }else{
                alert("root does not lie between x1 and x2");
            }
        }
    </script>
    </head>
    <body>
        enter expression f(x):<input id="F1" type=text>
        enter g(x):<input id="F2" type=text>
        <input type="button" value=click onclick=fun()>
        <p id=p1></p>
    </body>
</html>